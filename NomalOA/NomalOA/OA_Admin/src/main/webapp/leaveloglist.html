<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>LoveJob_流程历史</title>
    <link rel="stylesheet" href="media/layui/css/layui.css">
    <script type="application/javascript" src="media/js/jquery.min.js"></script>
    <script type="application/javascript" src="media/layui/layui.js"></script>
</head>
<body>
<div class="layui-container">
    <fieldset class="layui-elem-field layui-field-title" style="margin-top: 20px;">
        <legend>流程历史</legend>
    </fieldset>

    <table id="userdata" lay-filter="tableop"></table>

</div>

<script type="application/javascript">
    layui.use('table', function() {
        var table = layui.table;

        //第一个实例
        table.render({
            elem: '#userdata'
            , height: 'full-40'
            , url: 'leaveloglist.do' //数据接口
            , page: true //开启分页
            , cols: [[ //表头
                {field: 'id', title: 'ID',  sort: true, fixed: 'left'}
                , {field: 'uid', title: '用户'}
                , {field: 'lid', title: '流程'}
                , {field: 'createtime', title: '时间'}
                , {field: 'msg', title: '详情'}
                , {field: 'type', title: '状态', templet: function(d){
                    var r="";
                    var color="";
                    switch (d.type){
                        case 0: r="发起";color="layui-bg-green";break;
                        case 1: r="确认";color="layui-bg-red";break;
                        case 2: r="审批";color="layui-bg-blue";break;
                        case 3: r="撤销";color="layui-bg-orange";break;
                    }
                    return "<label class='"+color+"'>"+r+"</label>";
                }
                }
            ]]
        });

    });

</script>
</body>
</html>